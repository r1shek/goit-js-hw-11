{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchPixabayData(query) {\n  const apiKey = '43748337-b5dbfef6f8220f61277bc8c0d';\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${params}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\n          'There are no images matching your search query. Please try again!'\n        );\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error', error);\n    });\n}\n","export function renderGallery(images) {\n  const gallery = document.querySelector('#gallery');\n  const cards = images.map(image => createMarkup(image));\n  gallery.insertAdjacentHTML('beforeend', cards.join(''));\n}\n\nfunction createMarkup(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"image-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      <div class=\"details\">\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPixabayData } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst button = form.querySelector('button[type=\"submit\"]');\nconst gallery = document.querySelector('#gallery'); // Здесь определяем галерею\n\ninput.addEventListener('input', () => {\n  const query = input.value.trim();\n  if (query === '') {\n    button.disabled = true;\n  } else {\n    button.disabled = false;\n  }\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  gallery.textContent = '';\n\n  const query = input.value.trim();\n\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n\n  fetchPixabayData(query)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          message: 'No images found for your search query. Please try again.',\n          position: 'topRight',\n        });\n      } else {\n        renderGallery(data.hits);\n        lightboxCreate();\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching data:', error);\n      iziToast.error({\n        message: 'Failed to fetch data. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      input.value = '';\n      button.disabled = true;\n      loader.style.display = 'none';\n    });\n});\n\nfunction lightboxCreate() {\n  let lightbox = new SimpleLightbox('#gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n"],"names":["fetchPixabayData","query","apiKey","url","response","error","renderGallery","images","gallery","cards","image","createMarkup","form","input","button","event","loader","data","iziToast","lightboxCreate","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAS,qCASTC,EAAM,4BARG,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAE6C,GAE9C,OAAO,MAAME,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,mEACV,EAEM,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,QAASA,CAAK,CAClC,CAAK,CACL,CCxBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQF,EAAO,IAAIG,GAASC,EAAaD,CAAK,CAAC,EACrDF,EAAQ,mBAAmB,YAAaC,EAAM,KAAK,EAAE,CAAC,CACxD,CAEA,SAASE,EAAaD,EAAO,CAC3B,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oBAEpCA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIvC,CCXA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAASF,EAAK,cAAc,uBAAuB,EACnDJ,EAAU,SAAS,cAAc,UAAU,EAEjDK,EAAM,iBAAiB,QAAS,IAAM,CACtBA,EAAM,MAAM,KAAI,IAChB,GACZC,EAAO,SAAW,GAElBA,EAAO,SAAW,EAEtB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAEpBP,EAAQ,YAAc,GAEtB,MAAMP,EAAQY,EAAM,MAAM,KAAI,EAExBG,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,QAEvBhB,EAAiBC,CAAK,EACnB,KAAKgB,GAAQ,CACRA,EAAK,QAAU,EACjBC,EAAS,MAAM,CACb,QAAS,2DACT,SAAU,UACpB,CAAS,GAEDZ,EAAcW,EAAK,IAAI,EACvBE,IAER,CAAK,EACA,MAAMd,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3Ca,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,EAAM,MAAQ,GACdC,EAAO,SAAW,GAClBE,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC,EAED,SAASG,GAAiB,CACT,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB"}