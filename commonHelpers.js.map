{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport async function fetchPixabayData(query) {\n  try {\n    const apiKey = '43748337-b5dbfef6f8220f61277bc8c0d';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      iziToast.error({\n        title: 'Sorry',\n        message:\n          'There are no images matching your search query. Please try again!',\n        position: 'topCenter',\n      });\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    return null;\n  }\n}\n","export function clearGallery() {\n  const gallery = document.querySelector('#gallery');\n  gallery.innerHTML = '';\n}\n\nexport function renderGallery(images) {\n  clearGallery();\n  const gallery = document.querySelector('#gallery');\n  images.forEach(image => {\n    const card = createImageCard(image);\n    gallery.appendChild(card);\n  });\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement('a');\n  card.classList.add('image-card');\n  card.href = image.largeImageURL;\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n\n  const details = document.createElement('div');\n  details.classList.add('details');\n\n  const likes = document.createElement('p');\n  likes.textContent = `Likes: ${image.likes}`;\n\n  const views = document.createElement('p');\n  views.textContent = `Views: ${image.views}`;\n\n  const comments = document.createElement('p');\n  comments.textContent = `Comments: ${image.comments}`;\n\n  const downloads = document.createElement('p');\n  downloads.textContent = `Downloads: ${image.downloads}`;\n\n  details.appendChild(likes);\n  details.appendChild(views);\n  details.appendChild(comments);\n  details.appendChild(downloads);\n\n  card.appendChild(img);\n  card.appendChild(details);\n\n  return card;\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPixabayData } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('#search-input');\nconst button = form.querySelector('button[type=\"submit\"]');\n\ninput.addEventListener('input', () => {\n  const query = input.value.trim();\n  if (query === '') {\n    button.disabled = true;\n  } else {\n    button.disabled = false;\n  }\n});\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = input.value.trim();\n\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n\n  try {\n    const data = await fetchPixabayData(query);\n    if (data.total === 0) {\n      iziToast.error({\n        message: 'No images found for your search query. Please try again.',\n        position: 'topRight',\n      });\n    } else {\n      renderGallery(data.hits);\n      lightboxCreate();\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    iziToast.error({\n      message: 'Failed to fetch data. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    input.value = '';\n    button.disabled = true;\n    loader.style.display = 'none';\n  }\n});\n\nfunction lightboxCreate() {\n  let lightbox = new SimpleLightbox('#gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n"],"names":["fetchPixabayData","query","url","response","iziToast","error","clearGallery","gallery","renderGallery","images","image","card","createImageCard","img","details","likes","views","comments","downloads","form","input","button","event","loader","data","lightboxCreate","SimpleLightbox"],"mappings":"6vBAGO,eAAeA,EAAiBC,EAAO,CAC5C,GAAI,CAEF,MAAMC,EAAM,qEAA4CD,CAAK,2DACvDE,EAAW,MAAM,MAAMD,CAAG,EAChC,OAAKC,EAAS,IACZC,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACF,SAAU,WAClB,CAAO,EAEU,MAAMD,EAAS,MAE7B,OAAQE,EAAO,CACd,eAAQ,MAAM,QAASA,CAAK,EACrB,IACR,CACH,CCtBO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASC,EAAcC,EAAQ,CACpCH,IACA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDE,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAOC,EAAgBF,CAAK,EAClCH,EAAQ,YAAYI,CAAI,CAC5B,CAAG,CACH,CAEA,SAASC,EAAgBF,EAAO,CAC9B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,YAAY,EAC/BA,EAAK,KAAOD,EAAM,cAElB,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhB,MAAMI,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,SAAS,EAE/B,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUL,EAAM,KAAK,GAEzC,MAAMM,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUN,EAAM,KAAK,GAEzC,MAAMO,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,aAAaP,EAAM,QAAQ,GAElD,MAAMQ,EAAY,SAAS,cAAc,GAAG,EAC5C,OAAAA,EAAU,YAAc,cAAcR,EAAM,SAAS,GAErDI,EAAQ,YAAYC,CAAK,EACzBD,EAAQ,YAAYE,CAAK,EACzBF,EAAQ,YAAYG,CAAQ,EAC5BH,EAAQ,YAAYI,CAAS,EAE7BP,EAAK,YAAYE,CAAG,EACpBF,EAAK,YAAYG,CAAO,EAEjBH,CACT,CCzCA,MAAMQ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAASF,EAAK,cAAc,uBAAuB,EAEzDC,EAAM,iBAAiB,QAAS,IAAM,CACtBA,EAAM,MAAM,KAAI,IAChB,GACZC,EAAO,SAAW,GAElBA,EAAO,SAAW,EAEtB,CAAC,EAEDF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMrB,EAAQmB,EAAM,MAAM,KAAI,EAExBG,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMC,EAAO,MAAMxB,EAAiBC,CAAK,EACrCuB,EAAK,QAAU,EACjBpB,EAAS,MAAM,CACb,QAAS,2DACT,SAAU,UAClB,CAAO,GAEDI,EAAcgB,EAAK,IAAI,EACvBC,IAEH,OAAQpB,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CD,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRgB,EAAM,MAAQ,GACdC,EAAO,SAAW,GAClBE,EAAO,MAAM,QAAU,MACxB,CACH,CAAC,EAED,SAASE,GAAiB,CACT,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB"}